<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mojaloop Versioning, A Proposal</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Open Source Software for Financial Inclusion">
    
    <link rel="preload" href="/documentation/assets/css/0.styles.8636c027.css" as="style"><link rel="preload" href="/documentation/assets/js/app.b8e81fce.js" as="script"><link rel="preload" href="/documentation/assets/js/6.81999403.js" as="script"><link rel="preload" href="/documentation/assets/js/5.bbc2a4b1.js" as="script"><link rel="prefetch" href="/documentation/assets/js/1.42dc7ab9.js"><link rel="prefetch" href="/documentation/assets/js/10.a09cfeec.js"><link rel="prefetch" href="/documentation/assets/js/100.325a25f3.js"><link rel="prefetch" href="/documentation/assets/js/101.1d393f20.js"><link rel="prefetch" href="/documentation/assets/js/102.67f2894a.js"><link rel="prefetch" href="/documentation/assets/js/103.b9ec9c51.js"><link rel="prefetch" href="/documentation/assets/js/104.78e6e12b.js"><link rel="prefetch" href="/documentation/assets/js/105.3bb130f6.js"><link rel="prefetch" href="/documentation/assets/js/106.898c2514.js"><link rel="prefetch" href="/documentation/assets/js/107.10830f29.js"><link rel="prefetch" href="/documentation/assets/js/108.3aaad2f7.js"><link rel="prefetch" href="/documentation/assets/js/109.2296d154.js"><link rel="prefetch" href="/documentation/assets/js/11.d96e28c1.js"><link rel="prefetch" href="/documentation/assets/js/110.7a31dadb.js"><link rel="prefetch" href="/documentation/assets/js/111.07bc2410.js"><link rel="prefetch" href="/documentation/assets/js/112.87b10765.js"><link rel="prefetch" href="/documentation/assets/js/113.a94caef3.js"><link rel="prefetch" href="/documentation/assets/js/114.6caa8e12.js"><link rel="prefetch" href="/documentation/assets/js/115.adb1c575.js"><link rel="prefetch" href="/documentation/assets/js/116.8f118914.js"><link rel="prefetch" href="/documentation/assets/js/117.e2f630dc.js"><link rel="prefetch" href="/documentation/assets/js/118.c7440dd0.js"><link rel="prefetch" href="/documentation/assets/js/119.d02f4355.js"><link rel="prefetch" href="/documentation/assets/js/12.2ced2bde.js"><link rel="prefetch" href="/documentation/assets/js/120.4141d496.js"><link rel="prefetch" href="/documentation/assets/js/121.642cdc3d.js"><link rel="prefetch" href="/documentation/assets/js/122.f5b43465.js"><link rel="prefetch" href="/documentation/assets/js/123.0c397bc5.js"><link rel="prefetch" href="/documentation/assets/js/124.1dbf1512.js"><link rel="prefetch" href="/documentation/assets/js/125.a4001801.js"><link rel="prefetch" href="/documentation/assets/js/126.7f85b4f4.js"><link rel="prefetch" href="/documentation/assets/js/127.53fba84c.js"><link rel="prefetch" href="/documentation/assets/js/128.fdbcf036.js"><link rel="prefetch" href="/documentation/assets/js/129.8b8a9d8e.js"><link rel="prefetch" href="/documentation/assets/js/13.b9ab8a27.js"><link rel="prefetch" href="/documentation/assets/js/130.cb211ea8.js"><link rel="prefetch" href="/documentation/assets/js/131.4d448588.js"><link rel="prefetch" href="/documentation/assets/js/132.835d758f.js"><link rel="prefetch" href="/documentation/assets/js/133.4468be1a.js"><link rel="prefetch" href="/documentation/assets/js/134.e4bf052f.js"><link rel="prefetch" href="/documentation/assets/js/135.f598c018.js"><link rel="prefetch" href="/documentation/assets/js/136.6647de83.js"><link rel="prefetch" href="/documentation/assets/js/137.9168c155.js"><link rel="prefetch" href="/documentation/assets/js/138.82ce3b4d.js"><link rel="prefetch" href="/documentation/assets/js/139.d240942a.js"><link rel="prefetch" href="/documentation/assets/js/14.747baf33.js"><link rel="prefetch" href="/documentation/assets/js/140.0b9e61c1.js"><link rel="prefetch" href="/documentation/assets/js/141.67f163f8.js"><link rel="prefetch" href="/documentation/assets/js/142.59fdff17.js"><link rel="prefetch" href="/documentation/assets/js/143.725d6364.js"><link rel="prefetch" href="/documentation/assets/js/144.90ce07e2.js"><link rel="prefetch" href="/documentation/assets/js/145.033cf857.js"><link rel="prefetch" href="/documentation/assets/js/146.c60f341b.js"><link rel="prefetch" href="/documentation/assets/js/147.17e9b02f.js"><link rel="prefetch" href="/documentation/assets/js/148.393d094c.js"><link rel="prefetch" href="/documentation/assets/js/149.45880eb3.js"><link rel="prefetch" href="/documentation/assets/js/15.d0ec5428.js"><link rel="prefetch" href="/documentation/assets/js/150.3bf64790.js"><link rel="prefetch" href="/documentation/assets/js/151.78bc2f6a.js"><link rel="prefetch" href="/documentation/assets/js/152.c3f064c6.js"><link rel="prefetch" href="/documentation/assets/js/153.bb12823c.js"><link rel="prefetch" href="/documentation/assets/js/154.e8b31964.js"><link rel="prefetch" href="/documentation/assets/js/155.80eebce5.js"><link rel="prefetch" href="/documentation/assets/js/156.9d3a1f1c.js"><link rel="prefetch" href="/documentation/assets/js/157.16efdef0.js"><link rel="prefetch" href="/documentation/assets/js/158.f7412d5b.js"><link rel="prefetch" href="/documentation/assets/js/159.09002901.js"><link rel="prefetch" href="/documentation/assets/js/16.a2b03c9b.js"><link rel="prefetch" href="/documentation/assets/js/160.5e74a652.js"><link rel="prefetch" href="/documentation/assets/js/161.46c942bb.js"><link rel="prefetch" href="/documentation/assets/js/162.35557a89.js"><link rel="prefetch" href="/documentation/assets/js/163.bfb8f6b5.js"><link rel="prefetch" href="/documentation/assets/js/164.8dec8a8b.js"><link rel="prefetch" href="/documentation/assets/js/165.dff364fa.js"><link rel="prefetch" href="/documentation/assets/js/166.3fddd366.js"><link rel="prefetch" href="/documentation/assets/js/167.7c738b84.js"><link rel="prefetch" href="/documentation/assets/js/168.4fd74032.js"><link rel="prefetch" href="/documentation/assets/js/169.4faf1071.js"><link rel="prefetch" href="/documentation/assets/js/17.0d90d646.js"><link rel="prefetch" href="/documentation/assets/js/170.dccccf61.js"><link rel="prefetch" href="/documentation/assets/js/171.d67ebb9d.js"><link rel="prefetch" href="/documentation/assets/js/172.c2f06f58.js"><link rel="prefetch" href="/documentation/assets/js/173.bc72f37e.js"><link rel="prefetch" href="/documentation/assets/js/174.2cd350e8.js"><link rel="prefetch" href="/documentation/assets/js/175.49fda20b.js"><link rel="prefetch" href="/documentation/assets/js/176.0428c0b8.js"><link rel="prefetch" href="/documentation/assets/js/177.7df65682.js"><link rel="prefetch" href="/documentation/assets/js/178.b384656c.js"><link rel="prefetch" href="/documentation/assets/js/179.14d91d51.js"><link rel="prefetch" href="/documentation/assets/js/18.33050ed6.js"><link rel="prefetch" href="/documentation/assets/js/180.1b3099a0.js"><link rel="prefetch" href="/documentation/assets/js/181.bd4d319c.js"><link rel="prefetch" href="/documentation/assets/js/182.f615b06d.js"><link rel="prefetch" href="/documentation/assets/js/183.2d657d4c.js"><link rel="prefetch" href="/documentation/assets/js/184.181a5841.js"><link rel="prefetch" href="/documentation/assets/js/185.aef71a9c.js"><link rel="prefetch" href="/documentation/assets/js/186.9e3758e0.js"><link rel="prefetch" href="/documentation/assets/js/187.5449d0df.js"><link rel="prefetch" href="/documentation/assets/js/188.4276bc51.js"><link rel="prefetch" href="/documentation/assets/js/189.d286d2b5.js"><link rel="prefetch" href="/documentation/assets/js/19.af71cc39.js"><link rel="prefetch" href="/documentation/assets/js/190.c6746d31.js"><link rel="prefetch" href="/documentation/assets/js/191.1cfd3eab.js"><link rel="prefetch" href="/documentation/assets/js/192.d028f364.js"><link rel="prefetch" href="/documentation/assets/js/193.20c25ff6.js"><link rel="prefetch" href="/documentation/assets/js/194.9f0bfc02.js"><link rel="prefetch" href="/documentation/assets/js/195.d37fbf44.js"><link rel="prefetch" href="/documentation/assets/js/196.1421969f.js"><link rel="prefetch" href="/documentation/assets/js/197.47dcde1d.js"><link rel="prefetch" href="/documentation/assets/js/198.eaad59ba.js"><link rel="prefetch" href="/documentation/assets/js/2.641a231c.js"><link rel="prefetch" href="/documentation/assets/js/20.28cd3b32.js"><link rel="prefetch" href="/documentation/assets/js/21.3d9bdef7.js"><link rel="prefetch" href="/documentation/assets/js/22.b127e332.js"><link rel="prefetch" href="/documentation/assets/js/23.52937fe0.js"><link rel="prefetch" href="/documentation/assets/js/24.655c3b4a.js"><link rel="prefetch" href="/documentation/assets/js/25.ffa17d8a.js"><link rel="prefetch" href="/documentation/assets/js/26.957342ca.js"><link rel="prefetch" href="/documentation/assets/js/27.59fd6819.js"><link rel="prefetch" href="/documentation/assets/js/28.b304334d.js"><link rel="prefetch" href="/documentation/assets/js/29.ab3201d6.js"><link rel="prefetch" href="/documentation/assets/js/30.b1e054eb.js"><link rel="prefetch" href="/documentation/assets/js/31.242d47bf.js"><link rel="prefetch" href="/documentation/assets/js/32.835eefc2.js"><link rel="prefetch" href="/documentation/assets/js/33.f95c232d.js"><link rel="prefetch" href="/documentation/assets/js/34.b7240fc9.js"><link rel="prefetch" href="/documentation/assets/js/35.1823cd8a.js"><link rel="prefetch" href="/documentation/assets/js/36.44e41f23.js"><link rel="prefetch" href="/documentation/assets/js/37.0f8ecdbb.js"><link rel="prefetch" href="/documentation/assets/js/38.a090c6c3.js"><link rel="prefetch" href="/documentation/assets/js/39.ad7a96aa.js"><link rel="prefetch" href="/documentation/assets/js/4.068361fe.js"><link rel="prefetch" href="/documentation/assets/js/40.e46aaabe.js"><link rel="prefetch" href="/documentation/assets/js/41.22b334cb.js"><link rel="prefetch" href="/documentation/assets/js/42.84a54fa7.js"><link rel="prefetch" href="/documentation/assets/js/43.b1dbda04.js"><link rel="prefetch" href="/documentation/assets/js/44.47fd3520.js"><link rel="prefetch" href="/documentation/assets/js/45.7f429f01.js"><link rel="prefetch" href="/documentation/assets/js/46.bc0eccfc.js"><link rel="prefetch" href="/documentation/assets/js/47.5ab70c59.js"><link rel="prefetch" href="/documentation/assets/js/48.b20eb7e7.js"><link rel="prefetch" href="/documentation/assets/js/49.a82f361e.js"><link rel="prefetch" href="/documentation/assets/js/50.85f2e13c.js"><link rel="prefetch" href="/documentation/assets/js/51.c1b2a96c.js"><link rel="prefetch" href="/documentation/assets/js/52.669261db.js"><link rel="prefetch" href="/documentation/assets/js/53.7f283068.js"><link rel="prefetch" href="/documentation/assets/js/54.dbdc9602.js"><link rel="prefetch" href="/documentation/assets/js/55.b82f309d.js"><link rel="prefetch" href="/documentation/assets/js/56.75313277.js"><link rel="prefetch" href="/documentation/assets/js/57.b1387b77.js"><link rel="prefetch" href="/documentation/assets/js/58.c9a7f9e7.js"><link rel="prefetch" href="/documentation/assets/js/59.2b9a5f9c.js"><link rel="prefetch" href="/documentation/assets/js/60.60f46461.js"><link rel="prefetch" href="/documentation/assets/js/61.0e247df5.js"><link rel="prefetch" href="/documentation/assets/js/62.3e5120fb.js"><link rel="prefetch" href="/documentation/assets/js/63.9ff62ccd.js"><link rel="prefetch" href="/documentation/assets/js/64.bc3999c8.js"><link rel="prefetch" href="/documentation/assets/js/65.8612aa2c.js"><link rel="prefetch" href="/documentation/assets/js/66.8978da1f.js"><link rel="prefetch" href="/documentation/assets/js/67.5a465dee.js"><link rel="prefetch" href="/documentation/assets/js/68.c4617498.js"><link rel="prefetch" href="/documentation/assets/js/69.07803bb9.js"><link rel="prefetch" href="/documentation/assets/js/7.2c47fa27.js"><link rel="prefetch" href="/documentation/assets/js/70.005f2587.js"><link rel="prefetch" href="/documentation/assets/js/71.7a5ad22c.js"><link rel="prefetch" href="/documentation/assets/js/72.fb8f2c8d.js"><link rel="prefetch" href="/documentation/assets/js/73.ae9098ce.js"><link rel="prefetch" href="/documentation/assets/js/74.b4359a04.js"><link rel="prefetch" href="/documentation/assets/js/75.7576db14.js"><link rel="prefetch" href="/documentation/assets/js/76.a0bb040d.js"><link rel="prefetch" href="/documentation/assets/js/77.1c67ac75.js"><link rel="prefetch" href="/documentation/assets/js/78.5690a11a.js"><link rel="prefetch" href="/documentation/assets/js/79.5d531dea.js"><link rel="prefetch" href="/documentation/assets/js/8.d13674bb.js"><link rel="prefetch" href="/documentation/assets/js/80.07baf9bd.js"><link rel="prefetch" href="/documentation/assets/js/81.fdca0bdf.js"><link rel="prefetch" href="/documentation/assets/js/82.7c1792ab.js"><link rel="prefetch" href="/documentation/assets/js/83.1f91139f.js"><link rel="prefetch" href="/documentation/assets/js/84.971755b9.js"><link rel="prefetch" href="/documentation/assets/js/85.5ce2767c.js"><link rel="prefetch" href="/documentation/assets/js/86.12cac732.js"><link rel="prefetch" href="/documentation/assets/js/87.c0bb1981.js"><link rel="prefetch" href="/documentation/assets/js/88.b77cf426.js"><link rel="prefetch" href="/documentation/assets/js/89.96314a2e.js"><link rel="prefetch" href="/documentation/assets/js/9.3702b782.js"><link rel="prefetch" href="/documentation/assets/js/90.06ed1543.js"><link rel="prefetch" href="/documentation/assets/js/91.f9941db1.js"><link rel="prefetch" href="/documentation/assets/js/92.faa19146.js"><link rel="prefetch" href="/documentation/assets/js/93.6ef66954.js"><link rel="prefetch" href="/documentation/assets/js/94.c7f35df4.js"><link rel="prefetch" href="/documentation/assets/js/95.e5db5775.js"><link rel="prefetch" href="/documentation/assets/js/96.afd79c21.js"><link rel="prefetch" href="/documentation/assets/js/97.fd2ba4bc.js"><link rel="prefetch" href="/documentation/assets/js/98.d1d676a8.js"><link rel="prefetch" href="/documentation/assets/js/99.65f89d51.js">
    <link rel="stylesheet" href="/documentation/assets/css/0.styles.8636c027.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="navbar-logo-wrapper"><div class="navbar-left"><a href="/documentation/" class="home-link router-link-active"><img src="/documentation/mojaloop_logo_med.png" alt="" class="logo"> <!----></a></div></div> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/documentation/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guides" class="mobile-dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          General
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/documentation/deployment-guide/" class="nav-link">
  Up and Running With Mojaloop
</a></li><li class="dropdown-subitem"><a href="/documentation/contributors-guide/new-contributor-checklist.html" class="nav-link">
  Contributing to Mojaloop
</a></li></ul></li><li class="dropdown-item"><h4>
          DFSPs
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/mojaloop/ml-testing-toolkit/blob/master/documents/User-Guide.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Testing my DFSP with the Testing Toolkit
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/mojaloop/sdk-scheme-adapter" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Speed Up Development with the SDK-Scheme-Adapter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="API Reference" class="dropdown-title"><span class="title">API Reference</span> <span class="arrow down"></span></button> <button type="button" aria-label="API Reference" class="mobile-dropdown-title"><span class="title">API Reference</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Mojaloop APIs
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/documentation/api/mojaloop-api-specification.html" class="nav-link">
  FSPIOP API v1.0
</a></li><li class="dropdown-subitem"><a href="/documentation/api/thirdparty-pisp.html" class="nav-link">
  Thirdparty-PISP v0.1
</a></li><li class="dropdown-subitem"><a href="/documentation/api/thirdparty-dfsp.html" class="nav-link">
  Thirdparty-DFSP v0.1
</a></li></ul></li><li class="dropdown-item"><h4>
          Internal APIs
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/documentation/api/als-oracle-api-specification.html" class="nav-link">
  ALS Oracle
</a></li><li class="dropdown-subitem"><a href="/documentation/api/central-ledger-api-specification.html" class="nav-link">
  Central Ledger API
</a></li><li class="dropdown-subitem"><a href="/documentation/api/central-settlements-api-specification.html" class="nav-link">
  Central Settlement API
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/mojaloop/helm/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Releases
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/mojaloop/documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div class="sidebar-inner"><nav class="nav-links"><div class="nav-item"><a href="/documentation/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guides" class="mobile-dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          General
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/documentation/deployment-guide/" class="nav-link">
  Up and Running With Mojaloop
</a></li><li class="dropdown-subitem"><a href="/documentation/contributors-guide/new-contributor-checklist.html" class="nav-link">
  Contributing to Mojaloop
</a></li></ul></li><li class="dropdown-item"><h4>
          DFSPs
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/mojaloop/ml-testing-toolkit/blob/master/documents/User-Guide.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Testing my DFSP with the Testing Toolkit
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/mojaloop/sdk-scheme-adapter" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Speed Up Development with the SDK-Scheme-Adapter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="API Reference" class="dropdown-title"><span class="title">API Reference</span> <span class="arrow down"></span></button> <button type="button" aria-label="API Reference" class="mobile-dropdown-title"><span class="title">API Reference</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Mojaloop APIs
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/documentation/api/mojaloop-api-specification.html" class="nav-link">
  FSPIOP API v1.0
</a></li><li class="dropdown-subitem"><a href="/documentation/api/thirdparty-pisp.html" class="nav-link">
  Thirdparty-PISP v0.1
</a></li><li class="dropdown-subitem"><a href="/documentation/api/thirdparty-dfsp.html" class="nav-link">
  Thirdparty-DFSP v0.1
</a></li></ul></li><li class="dropdown-item"><h4>
          Internal APIs
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/documentation/api/als-oracle-api-specification.html" class="nav-link">
  ALS Oracle
</a></li><li class="dropdown-subitem"><a href="/documentation/api/central-ledger-api-specification.html" class="nav-link">
  Central Ledger API
</a></li><li class="dropdown-subitem"><a href="/documentation/api/central-settlements-api-specification.html" class="nav-link">
  Central Settlement API
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/mojaloop/helm/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Releases
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/mojaloop/documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Home</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/documentation/" aria-current="page" class="sidebar-link">Mojaloop Overview</a></li><li><a href="/documentation/mojaloop-background.html" class="sidebar-link">Background</a></li><li><a href="/documentation/mojaloop-background/core-scenarios.html" class="sidebar-link">Core Scenarios</a></li><li><a href="/documentation/mojaloop-background/level-one-principles.html" class="sidebar-link">Level One Principles</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/documentation/deployment-guide/" class="sidebar-heading clickable"><span>Deployment Guide</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/documentation/contributors-guide/" class="sidebar-heading clickable"><span>Contributor's Guide</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/documentation/glossary.html" class="sidebar-link">Concepts</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/documentation/mojaloop-technical-overview/" class="sidebar-heading clickable"><span>Technology Overview</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/documentation/api/" class="sidebar-heading clickable"><span>API Reference</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Discussions &amp; Notes</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/documentation/contributors-guide/frequently-asked-questions.html" class="sidebar-link">FAQs</a></li></ul> </div></aside> <div id="main" class="main-container"><main class="page"> <div class="theme-default-content content__default"><h1 id="mojaloop-versioning-a-proposal"><a href="#mojaloop-versioning-a-proposal" class="header-anchor">#</a> Mojaloop Versioning, A Proposal</h1> <p><em>Note: This document is a living draft of a proposal for versioning within Mojaloop. Once the proposal is ready, it will be submitted to the CCB for approval.</em></p> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p>The aim is to produce a proposal that keeps the versioning Scheme simple to use and clear regarding compatibility issues. However, it needs to include all the details needed for a Mojaloop ecosystem as well.</p> <p>Goal:
Propose a standard for a new 'Mojaloop Version', which embodies:</p> <ol><li>Helm: Individual Service Versions, Monitoring Component Versions</li> <li>API Versions: FSPIOP API, Hub Operations / Admin API, Settlement API</li> <li>Internal Schema Versions: Database Schema and Internal Messaging Versions</li></ol> <h2 id="versioning-strategies-background-literature-review"><a href="#versioning-strategies-background-literature-review" class="header-anchor">#</a> Versioning Strategies/Background (Literature Review)</h2> <p>How do current systems handle versioning? Give a brief overview of the current space.</p> <ul><li>Most best practices follow semantic versioning for APIs, this will be covered more in <a href="https://github.com/mojaloop/project/issues/1198" target="_blank" rel="noopener noreferrer">#1198<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="demonstrates-zero-downtime-deployment-approaches-with-kubernetes-5"><a href="#demonstrates-zero-downtime-deployment-approaches-with-kubernetes-5" class="header-anchor">#</a> Demonstrates zero-downtime deployment approaches with Kubernetes [5]</h3> <p>Key observations:</p> <ul><li>in order to support rollbacks, the services must be both forward and backwards compatible.
consecutive app versions must be schema compatible</li> <li>'Never deploy any breaking schema changes', separate into multiple deployments instead</li></ul> <p>For example, start with a PERSON table:</p> <div class="language- extra-class"><pre class="language-text"><code>PK  ID
    NAME
    ADDRESS_LINE_1
    ADDRESS_LINE_2
    ZIPCODE
    COUNTRY
</code></pre></div><p>And we want to break this down (normalize) into 2 tables, PERSON and ADDRESS:</p> <div class="language- extra-class"><pre class="language-text"><code>#person
PK  ID
    NAME

#address
PK  ID
FK  PERSON_ID
    ADDRESS_LINE_1
    ADDRESS_LINE_2
    ZIPCODE
    COUNTRY
</code></pre></div><p>If this change were made in one migration, 2 different versions of our application won't be compatible. Instead, the schema changes must be broken down:</p> <ol><li>Create ADDRESS table
<ul><li>App use the PERSON table data as previously</li> <li>Trigger a copy of data to the ADDRESS table</li></ul></li> <li>The ADDRESS now becomes the 'source of truth'
<ul><li>App now uses the ADDRESS table data</li> <li>Trigger a copy of new added to address to the PERSON table</li></ul></li> <li>Stop copying data</li> <li>Remove extra columns from PERSON table</li></ol> <p>This means for any one change of the database schema, multiple application versions will need to be created, and multiple deployments must be made in succession for this change to be made.</p> <ul><li>[5] also notes how simple Kubernetes makes deploying such a change
* rolling upgrade deployments
* Tip: make sure your health endpoint waits for the migrations to finish!</li> <li>Q: so how do we make big changes that touch both the database schema and the API?
* this seems really hard, and would need a lot of coordination
* If we don't design it correctly, it could mean that a single schema change could require all DFSPs to be on board
* This is why I think the API version and Service version should be unrelated. We should be able to
deploy a new version of a service (which runs a migration), and supports an old API version</li></ul> <h3 id="using-a-schema-registry-for-kafka-messages-6"><a href="#using-a-schema-registry-for-kafka-messages-6" class="header-anchor">#</a> Using a schema registry for Kafka Messages [6]</h3> <ul><li>[6] suggests some approaches, such as using a schema registry for kafka messages, such as <a href="https://docs.confluent.io/current/schema-registry/index.html" target="_blank" rel="noopener noreferrer">Apache Arvo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>This adds a certain level of 'strictness' to the messages we produce, and will help enforce versioning</li> <li>Adds a separate 'schema registry' component, which ensures messages conform to a given schema. This doesn't really
help enforce versioning, and leaves the work up to us still, but does give more guarantees about the message formats.</li></ul> <h3 id="backwards-and-forwards-compatibility-3-4"><a href="#backwards-and-forwards-compatibility-3-4" class="header-anchor">#</a> Backwards and Forwards Compatibility [3], [4]</h3> <ul><li>&quot;The Robustness principle states that you should be “liberal in what you accept and conservative in what you send
”. In terms of APIs this implies a certain tolerance in consuming services.&quot; [3]</li> <li>Backwards Compatibility vs Backwards Incompatibility [4]:
<ul><li>Generally, additions are considered backwards compatible</li> <li>Removing or changing names is backwards incompatible</li> <li>It's more something to assess on a case-by-case basis, but <a href="https://cloud.google.com/apis/design/compatibility" target="_blank" rel="noopener noreferrer">Google's API Design Doc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> helps lay out the cases.</li></ul></li></ul> <h2 id="mojaloop-ecosystem"><a href="#mojaloop-ecosystem" class="header-anchor">#</a> Mojaloop Ecosystem</h2> <p>When discussing versioning we need to be clear that we are versioning interfaces for various parties.</p> <h1 id="proposal"><a href="#proposal" class="header-anchor">#</a> Proposal</h1> <p>The following section will outline the versioning proposal.</p> <h2 id="a-mojaloop-version"><a href="#a-mojaloop-version" class="header-anchor">#</a> A “Mojaloop Version”</h2> <p>A Mojaloop Version <strong>x.y</strong>.z can be defined that can encompass the versions of all the three APIs included (detailed below).
In the version <strong>x.y</strong>.z, ‘x’ indicates the Major version and ‘y’ a minor version, similar to the Mojaloop FSPIOP API versioning standards; ‘z’ represents the ‘hotfix’ version or a version released with the same major, minor version x.y but to keep things simple, there is a need to bundle all the components included in the Mojaloop ecosystem indicating what all items are included there.</p> <p>In effect we may say Mojaloop version <strong>x.y</strong> includes</p> <ol><li>Mojaloop FSPIOP API
<ul><li>Maintained by the CCB (Change Control Board)</li> <li>Uses x.y format</li> <li>Currently version v1.0, v1.1 and v2.0 are in the pipeline</li></ul></li> <li>Settlement API
<ul><li>Maintained by the CCB</li> <li>To use x.y format</li> <li>Currently version v1.1 and v2.0 is in the pipeline</li></ul></li> <li>Admin / Operations API
<ul><li>Maintained by the CCB</li> <li>To use x.y format</li> <li>Can use version v1.0</li></ul></li> <li>Helm
<ul><li>Maintained by the Design Authority</li> <li>Uses x.y.z format</li> <li>PI (Program Increment) + Sprint based versioning.</li></ul> <blockquote><p><em>Note:</em> <em>PI + Sprint based versioning</em> make sense in the context of the current Mojaloop Program Increments, but will need to be revised at a later date.</p></blockquote> <ul><li>Bundles compatible versions of individual services together</li></ul></li> <li>Internal Schemas
<ul><li>Maintained by the Design Authority</li> <li>DB Schema x.y</li> <li>Internal messaging Schema (Kafka) x.y</li></ul></li></ol> <table><thead><tr><th><strong>Mojaloop</strong></th> <th>x.y</th> <th></th> <th></th></tr></thead> <tbody><tr><td></td> <td>Owner/Maintainer</td> <td>Format</td> <td>Meaning</td></tr> <tr><td><strong>APIs</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>- FSPIOP API</td> <td>CCB</td> <td><em>x.y</em></td> <td>Major.Minor</td></tr> <tr><td>- Settlement API</td> <td>CCB</td> <td><em>x.y</em></td> <td>Major.Minor</td></tr> <tr><td>- Admin/Operations API</td> <td>CCB</td> <td><em>x.y</em></td> <td>Major.Minor</td></tr> <tr><td>Helm</td> <td>Design Authority</td> <td><em>x.y.z</em></td> <td>PI.Sprint.Increment</td></tr> <tr><td><strong>Internal Schemas</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>- DB Schema</td> <td>Design Authority</td> <td><em>x.y</em></td> <td>Major.Minor</td></tr> <tr><td>- Internal Messaging</td> <td>Design Authority</td> <td><em>x.y</em></td> <td>Major.Minor</td></tr></tbody></table> <p>For example: Mojaloop 1.0 includes</p> <ol><li>APIs
<ul><li>FSPIOP API v1.0</li> <li>Settlements API v1.1</li> <li>Admin API v1.0</li></ul></li> <li>Helm v9.1.0
<ul><li>Individual services' versions</li> <li>Monitoring components versions</li></ul></li> <li>Internal Schemas
<ul><li>DB Schema v1.0</li> <li>Internal messaging version v1.0</li></ul></li></ol> <table><thead><tr><th><strong>Mojaloop</strong></th> <th>v1.0</th> <th></th> <th></th></tr></thead> <tbody><tr><td></td> <td>Owner/Maintainer</td> <td>Version</td> <td></td></tr> <tr><td><strong>APIs</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>- FSPIOP API</td> <td>CCB</td> <td><em>1.0</em></td> <td></td></tr> <tr><td>- Settlement API</td> <td>CCB</td> <td><em>1.1</em></td> <td></td></tr> <tr><td>- Admin/Operations API</td> <td>CCB</td> <td><em>1.0</em></td> <td></td></tr> <tr><td>Helm</td> <td>Design Authority</td> <td><em>9.1.0</em></td> <td></td></tr> <tr><td><strong>Internal Schemas</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>- DB Schema</td> <td>Design Authority</td> <td><em>1.0</em></td> <td></td></tr> <tr><td>- Internal Messaging</td> <td>Design Authority</td> <td><em>1.0</em></td> <td></td></tr></tbody></table> <h3 id="advantages"><a href="#advantages" class="header-anchor">#</a> Advantages</h3> <ol><li>The advantage of this strategy is primarily simplicity. A given version say - Mojaloop v1.0 can just be used in
discussions which then refers to specific versions of the three APIs - FSPIOP, Settlements, Admin APIs, along with the Helm version that is a bundle of the individual services which are compatible with each other and can be deployed together.
Along with these, the Schema versions for the DB and Internal messaging to communicate whether any changes have been made to these or not since the previously released version.</li> <li>The other advantage, obviously, is that it caters for everyone who may be interested in differing levels of details
, whether high level or detailed. Because of the nature of the major and minor versions, it should be easy for Users and adopters to understand compatibility issues as well.</li></ol> <h3 id="compatibility"><a href="#compatibility" class="header-anchor">#</a> Compatibility</h3> <p>As described in <a href="https://github.com/mojaloop/mojaloop-specification/blob/master/documents/API%20Definition%20v1.0.md#33-api-versioning" target="_blank" rel="noopener noreferrer">section 3.3 of the API Definition v1.0<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, whether or not a version is backwards compatible is
indicated by the <strong>Major</strong> version. All versions with the same major version must be compatible while those having different major versions, will most likely not be compatible.</p> <p><em>Important Note: Hub operators will likely need to support multiple versions of the FSPIOP API at the same time, in order to cater for different participants as they can't all be expected to upgrade at the same time.</em></p> <h2 id="breaking-down-the-mojaloop-version"><a href="#breaking-down-the-mojaloop-version" class="header-anchor">#</a> Breaking down the “Mojaloop Version”</h2> <p>This section aims to break down the above proposed mojaloop version into its constituent parts, and provide support for the above proposed versioning strategy</p> <h3 id="apis"><a href="#apis" class="header-anchor">#</a> APIs</h3> <p>The <a href="https://github.com/mojaloop/mojaloop-specification/blob/master/documents/API%20Definition%20v1.0.md#33-api-versioning" target="_blank" rel="noopener noreferrer">Mojaloop Spec<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> already outlines many of the decisions made around versioning APIs.</p> <p>In terms of common best practices, there are many approaches for requesting different versions, including adding in a
version in the url, but let's not worry about this because the spec already lays this out for us, using the HTML vendor extension: <a href="https://github.com/mojaloop/mojaloop-specification/blob/master/documents/API%20Definition%20v1.0.md#3341-http-accept-header" target="_blank" rel="noopener noreferrer">3.3.4.1 Http Accept Header<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>As for version negotiation, the spec also states that in the event of an unsupported version being requested by a
client, a HTTP status 406 can be returned, along with an error message which describes the supported versions. <a href="https://github.com/mojaloop/mojaloop-specification/blob/master/documents/API%20Definition%20v1.0.md#3343-non-acceptable-version-requested-by-client" target="_blank" rel="noopener noreferrer">3.3.4.3 Non-Acceptable Version Requested by Client<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Another best practice around versioning is specifying to what level clients may request specific apis.</p> <ul><li>In a development environment, many APIs will allow specificy up to the BUGFIX version, i.e. vX.X.X</li> <li>In production however, this is limited to Major versions only, e.g. v1, v2</li> <li>e.g. The Google API Platform supports only major versions, not minor and patch versions</li> <li>Given the new features that may become available with v1.1 of the Mojaloop API, we might want to allow participants
to specify MAJOR and MINOR versions, i.e. vX.X. This practice should be avoided however, since minor versions should be backwards compatible</li></ul> <p>Participants using the same MAJOR version of the API should be able to interact. Participants on different MAJOR
versions are not able to interact. For example, a participant on API v1.1 can send transfers to another participant on v1.0, but not to a different participant on v2.0.</p> <h3 id="helm"><a href="#helm" class="header-anchor">#</a> Helm</h3> <p>This section deals with how Mojaloop services interact within a given deployment. Here, we attempt to propose questions such as &quot;should an instance of central-ledger:v10.0.1 be able to talk to ml-api-adapter:v10.1.0? How about ml-api-adapter:v11.0.0?&quot;? or &quot;how do we make sure both central-ledger:v10.0.1 and central-ledger:v10.1.0 talk to the database at the same time?&quot;</p> <p>There are two places where this happens:</p> <ol><li>Where services interact with saved state - MySQL Percona Databases</li> <li>Where services interact with each other - Apache Kakfa and (some) internal APIs</li></ol> <p>This implies we need to version:</p> <ul><li>the database schema</li> <li>messages within Apache kafka
<ul><li>need to make sure the right services can appropriately read the right messages. E.g. Can mojaloop/ml-api-adapter:v10
.1.0 publish messages to kafka that mojaloop/central-ledger:v10.0.1 can understand?</li> <li>Q: If we decide to make breaking changes to the message format, how can we ensure that messages in the kafka streams
don't get picked up by the wong services?</li></ul></li></ul> <h3 id="internal-schemas"><a href="#internal-schemas" class="header-anchor">#</a> Internal Schemas</h3> <h4 id="database"><a href="#database" class="header-anchor">#</a> Database</h4> <p>todo: anything to be said here?</p> <h4 id="kafka-messaging"><a href="#kafka-messaging" class="header-anchor">#</a> Kafka/Messaging</h4> <p>Currently, we use the lime protocol for our kafka message formats: https://limeprotocol.org/</p> <p>Also refer to the mojaloop/central-services-stream readme for more information about the message format.</p> <p>The lime protocol provides for a type, field, which supports MIME type declarations. So we could potentially handle messages in a manner similar to the API above (e.g. application/vnd.specific+json). Versioning messages in this manner means that consumers reading these messages would need to be backwards and fowards compatible (consecutive message versions must be schema compatible).</p> <ul><li>Q. does it make sense to put the version in the Kafka topic?
<ul><li>One example, ml-api-adapter publishes messages to the prepare topic</li> <li>If we add versioning to this, ml-api-adapter:v10.0.0 publishes messages to a prepare_v10.0 topic, and a new instance
of the ml-api-adapter:v10.1.0 will publish to the prepare_v10.1 topic.</li> <li>subscribers can subscribe to whichever prepare topic they want, or both, depending on their own tolerance to such
messages</li> <li>This may have some serious performance side effects</li></ul></li> <li>Another potential option would be to allow for a message 'adapter' in the deployment. Say the ml-api-adapter:v10.1.0 is producing messages to a prepare_v10.1 topic, and there is no corresponding central-ledger in the deployment to read such messages, we could have an adapter, which subscribes to prepare_v10.1, reformats them to be backwards compatible, and publishes them to prepare_v10.0 in the old format.</li></ul> <p>Such an approach would allow for incremental schema changes to the messaging format as services are gradually upgraded.</p> <p>All in all, I didn't see too much about this subject, so we'll likely need to return later down the line.</p> <h2 id="version-negotiation"><a href="#version-negotiation" class="header-anchor">#</a> Version Negotiation</h2> <p>todo: @sam Discuss how to deal with version negotiation strategy</p> <h2 id="long-term-support"><a href="#long-term-support" class="header-anchor">#</a> Long Term Support</h2> <p>todo: Discuss how long term support fits into the versioning proposal. I don’t think we want to get into too much detail, but more outline what it might look like</p> <p>Mention current (lack of) lts support, current PI cadence</p> <h2 id="appendix-a-definitions"><a href="#appendix-a-definitions" class="header-anchor">#</a> Appendix A: Definitions</h2> <ul><li><strong>service</strong>: Mojaloop follows a microservices oriented approach, where a large application is broken down into smaller
micro services. In this instance, Service refers to a containerized application running as part of a Mojaloop deployment. At the moment, this takes the form of a Docker container running inside of a Kubernetes cluster. e.g. mojaloop/central-ledger is the central-ledger service</li> <li><strong>service version</strong>: The version of the given service. This currently doesn't follow semantic versioning, but may in the
future e.g. mojaloop/central-ledger:v10.0.1. The current approach is described in more detail in the <a href="https://github.com/mojaloop/documentation/blob/master/contributors-guide/standards/versioning.md" target="_blank" rel="noopener noreferrer">standards
/Versioning doc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li><strong>helm</strong>: Helm is an application package manager that runs on top of Kubernetes. It may also be referred to as the
&quot;deployment&quot;. A single helm deployment runs many different services, and MAY run multiple versions of the same service simultaneously. We also refer to the deployment as it's repo, mojaloop/helm interchangeably.</li> <li><strong>helm version</strong>: A helm version is the version of the packaged helm charts, e.g.mojaloop/helm:v1.1.0</li> <li><strong>interface</strong>: An interface is the protocol by which a Mojaloop switch interacts with the outside world. This includes
interactions with Participants (DFSPs) who transfer funds through the switch, hub operators running a Mojaloop switch, and admins performing administrative functions.</li> <li><strong>api</strong>: Application Programming Interface - in most cases referring to the FSPIOP-API a.k.a. Open API for FSP
Interoperability defined <a href="https://github.com/mojaloop/mojaloop-specification" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li><strong>api version</strong>: The Version of the FSPIOP-API, e.g. FSPIOP-API v1. For the purposes of this document, it refers to the
contract between a Mojaloop Switch and Participants (DFSPs) who implement the FSPIOP-API</li></ul> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <p>[1] LTS versioning within nodejs. This is a great example of an LTS strategy, and how to clearly communicate such a strategy.
[2] Semantic Versioning Reference
[3] https://www.ben-morris.com/rest-apis-dont-need-a-versioning-strategy-they-need-a-change-strategy/
[4] https://cloud.google.com/apis/design/compatibility
[5] Nicolas Frankel - Zero-downtime deployment with Kubernetes, Spring Boot and Flyway
[6] Stackoverflow - Kafka Topic Message Versioning</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/mojaloop/documentation/edit/master/discussions/versioning_draft_proposal.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div> <div class="right-bar"><div class="sidebar-link-wrapper"><ul class="right-sidebar-links pl-0"><li><section class="sidebar-group mt-4 depth-0 group-0"><p class="right-sidebar-heading open"><span>On this Page</span> <!----></p> <ul class="right-sidebar-links pl-0 sidebar-group-items"><li><!----> <a href="/documentation/discussions/versioning_draft_proposal.html#overview" class="right-sidebar-link">Overview</a> <!----></li><li><!----> <a href="/documentation/discussions/versioning_draft_proposal.html#versioning-strategies-background-literature-review" class="right-sidebar-link">Versioning Strategies/Background (Literature Review)</a> <!----></li><li><!----> <a href="/documentation/discussions/versioning_draft_proposal.html#mojaloop-ecosystem" class="right-sidebar-link">Mojaloop Ecosystem</a> <!----></li><li><!----> <a href="/documentation/discussions/versioning_draft_proposal.html#a-mojaloop-version" class="right-sidebar-link">A “Mojaloop Version”</a> <!----></li><li><!----> <a href="/documentation/discussions/versioning_draft_proposal.html#breaking-down-the-mojaloop-version" class="right-sidebar-link">Breaking down the “Mojaloop Version”</a> <!----></li><li><!----> <a href="/documentation/discussions/versioning_draft_proposal.html#version-negotiation" class="right-sidebar-link">Version Negotiation</a> <!----></li><li><!----> <a href="/documentation/discussions/versioning_draft_proposal.html#long-term-support" class="right-sidebar-link">Long Term Support</a> <!----></li><li><!----> <a href="/documentation/discussions/versioning_draft_proposal.html#appendix-a-definitions" class="right-sidebar-link">Appendix A: Definitions</a> <!----></li><li><!----> <a href="/documentation/discussions/versioning_draft_proposal.html#references" class="right-sidebar-link">References</a> <!----></li></ul></section> <!----> <!----></li></ul></div></div></div><div class="global-ui"></div></div>
    <script src="/documentation/assets/js/app.b8e81fce.js" defer></script><script src="/documentation/assets/js/6.81999403.js" defer></script><script src="/documentation/assets/js/5.bbc2a4b1.js" defer></script>
  </body>
</html>
