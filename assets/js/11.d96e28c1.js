(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{344:function(e,t,a){e.exports=a.p+"assets/img/arch-flow-account-lookup-participants.3967cb7d.svg"},345:function(e,t,a){e.exports=a.p+"assets/img/arch-flow-account-lookup-parties.8c795245.svg"},346:function(e,t,a){e.exports=a.p+"assets/img/arch-flow-account-lookup-admin.b9d73e3f.svg"},347:function(e,t,a){e.exports=a.p+"assets/img/AccountLookupService-schema.eea98b10.png"},478:function(e,t,a){"use strict";a.r(t);var i=a(43),r=Object(i.a)({},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[i("h1",{attrs:{id:"account-lookup-service"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#account-lookup-service"}},[e._v("#")]),e._v(" Account Lookup Service")]),e._v(" "),i("ul",[i("li",[e._v("Participant Look-up")]),e._v(" "),i("li",[e._v("Party Look-up")]),e._v(" "),i("li",[e._v("Manage Participants Registry information\n"),i("ul",[i("li",[e._v("Adding Participant Registry information")]),e._v(" "),i("li",[e._v("Deleting Participant Registry information")])])])]),e._v(" "),i("p",[e._v("Use-cases that have been implemented over and above for Hub Operational use:")]),e._v(" "),i("ul",[i("li",[e._v("Admin Operations\n"),i("ul",[i("li",[e._v("Manage Oracle End-point Routing information")]),e._v(" "),i("li",[e._v("Manage Switch End-point Routing information")])])])]),e._v(" "),i("h2",{attrs:{id:"_1-design-considerations"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-design-considerations"}},[e._v("#")]),e._v(" 1. Design Considerations")]),e._v(" "),i("h3",{attrs:{id:"_1-1-account-lookup-service-als"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-account-lookup-service-als"}},[e._v("#")]),e._v(" 1.1. Account Lookup Service (ALS)")]),e._v(" "),i("p",[e._v("The ALS design provides a generic Central-Service component as part of the core Mojaloop. The purpose of this component is to provide routing and alignment to the Mojaloop API Specification. This component will support multiple Look-up registries (Oracles). This ALS will provide an Admin API to configure routing/config for each of the Oracles similiar to the Central-Service API for the End-point configuration for DFSP routing by the Notification-Handler (ML-API-Adapter Component). The ALS will in all intense purpose be a switch with a persistence store for the storage/management of the routing rules/config.")]),e._v(" "),i("h4",{attrs:{id:"_1-1-1-assumptions"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-assumptions"}},[e._v("#")]),e._v(" 1.1.1. Assumptions")]),e._v(" "),i("ul",[i("li",[e._v("The ALS design will only cater for a single switch for the time being.")]),e._v(" "),i("li",[e._v("Support for multiple switches will utilise the same DNS resolution mechanism that is being developed for the Cross Border/Network design.")])]),e._v(" "),i("h4",{attrs:{id:"_1-1-2-routing"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-routing"}},[e._v("#")]),e._v(" 1.1.2. Routing")]),e._v(" "),i("p",[e._v("The routing configuration will be based on the following:")]),e._v(" "),i("ul",[i("li",[e._v("PartyIdType - See section "),i("code",[e._v("7.5.6")]),e._v(" of the Mojaloop Specification")]),e._v(" "),i("li",[e._v("Currency - See section "),i("code",[e._v("7.5.5")]),e._v(" of the Mojaloop Specification. Currency code defined in "),i("a",{attrs:{href:"https://www.iso.org/iso-4217-currency-codes.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ISO 4217"),i("OutboundLink")],1),e._v(" as three-letter alphabetic string. This will be optional, however "),i("code",[e._v("isDefault")]),e._v(" indicator must be set to "),i("code",[e._v("true")]),e._v(" if the "),i("code",[e._v("Currency")]),e._v(" is not provided.")]),e._v(" "),i("li",[e._v("isDefault - Indicator that a specific Oracle is the default provider for a specific PartyIdType. Note that there can be many default Oracles, but there can only be a single Oracle default for a specific PartyIdType. The default Oracle for a specific PartyIdType will only be selected if the originating request does not include a Currency filter.")])]),e._v(" "),i("h3",{attrs:{id:"_1-2-als-oracle"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-als-oracle"}},[e._v("#")]),e._v(" 1.2. ALS Oracle")]),e._v(" "),i("p",[e._v("The ALS Oracle be implemented as either a "),i("strong",[e._v("Service")]),e._v(" or "),i("strong",[e._v("Adapter")]),e._v(" (semantic dependant on use - Mediation = Adapter, Service = Implementation) will provide a look-up registry component with similar functionality of the "),i("code",[e._v("/participants")]),e._v(" Mojaloop API resources. It has however loosely based on the ML API specification as it's interface implements a sync pattern which reduces the correlation/persistence requirements of the Async Callback pattern implemented directly by the ML API Spec. This will provide all ALS Oracle Services/Adapters with a standard interface which will be mediated by the ALS based on its routing configuration."),i("br"),e._v("\nThis component (or back-end systems) will also be responsible for the persistence & defaulting of the Participant details.")]),e._v(" "),i("h2",{attrs:{id:"_2-participant-lookup-design"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-participant-lookup-design"}},[e._v("#")]),e._v(" 2. Participant Lookup Design")]),e._v(" "),i("h3",{attrs:{id:"_2-1-architecture-overview"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-architecture-overview"}},[e._v("#")]),e._v(" 2.1. Architecture overview")]),e._v(" "),i("p",[i("img",{attrs:{src:a(344),alt:"Architecture Flow Account-Lookup for Participants"}})]),e._v(" "),i("p",[i("em",[e._v("Note: The Participant Lookup use-case similarly applies to for a Payee Initiated use-case such as transactionRequests. The difference being that the Payee is the initiation in the above diagram.")])]),e._v(" "),i("h3",{attrs:{id:"_2-2-sequence-diagrams"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-sequence-diagrams"}},[e._v("#")]),e._v(" 2.2. Sequence diagrams")]),e._v(" "),i("h4",{attrs:{id:"_2-2-1-get-participants"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-get-participants"}},[e._v("#")]),e._v(" 2.2.1. GET Participants")]),e._v(" "),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/mojaloop-technical-overview/account-lookup-service/als-get-participants.html"}},[e._v("Sequence Diagram for GET Participants")])],1)]),e._v(" "),i("h4",{attrs:{id:"_2-2-2-post-participants"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-post-participants"}},[e._v("#")]),e._v(" 2.2.2. POST Participants")]),e._v(" "),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/mojaloop-technical-overview/account-lookup-service/als-post-participants.html"}},[e._v("Sequence Diagram for POST Participants")])],1)]),e._v(" "),i("h4",{attrs:{id:"_2-2-3-post-participants-batch"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-post-participants-batch"}},[e._v("#")]),e._v(" 2.2.3. POST Participants (Batch)")]),e._v(" "),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/mojaloop-technical-overview/account-lookup-service/als-post-participants-batch.html"}},[e._v("Sequence Diagram for POST Participants (Batch)")])],1)]),e._v(" "),i("h4",{attrs:{id:"_2-2-4-del-participants"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-4-del-participants"}},[e._v("#")]),e._v(" 2.2.4. DEL Participants")]),e._v(" "),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/mojaloop-technical-overview/account-lookup-service/als-del-participants.html"}},[e._v("Sequence Diagram for DEL Participants")])],1)]),e._v(" "),i("h2",{attrs:{id:"_3-party-lookup-design"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-party-lookup-design"}},[e._v("#")]),e._v(" 3. Party Lookup Design")]),e._v(" "),i("h3",{attrs:{id:"_3-1-architecture-overview"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-architecture-overview"}},[e._v("#")]),e._v(" 3.1. Architecture overview")]),e._v(" "),i("p",[i("img",{attrs:{src:a(345),alt:"Architecture Flow Account-Lookup for Parties"}})]),e._v(" "),i("h3",{attrs:{id:"_3-2-sequence-diagram"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-sequence-diagram"}},[e._v("#")]),e._v(" 3.2. Sequence diagram")]),e._v(" "),i("h4",{attrs:{id:"_3-2-1-get-parties"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-get-parties"}},[e._v("#")]),e._v(" 3.2.1. GET Parties")]),e._v(" "),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/mojaloop-technical-overview/account-lookup-service/als-get-parties.html"}},[e._v("Sequence Diagram for GET Parties")])],1)]),e._v(" "),i("h2",{attrs:{id:"_4-als-admin-design"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-als-admin-design"}},[e._v("#")]),e._v(" 4. ALS Admin Design")]),e._v(" "),i("h3",{attrs:{id:"_4-1-architecture-overview"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-architecture-overview"}},[e._v("#")]),e._v(" 4.1. Architecture overview")]),e._v(" "),i("p",[i("img",{attrs:{src:a(346),alt:"Architecture Flow Account-Lookup for Admin Get Oracles"}})]),e._v(" "),i("h3",{attrs:{id:"_4-2-sequence-diagram"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-sequence-diagram"}},[e._v("#")]),e._v(" 4.2. Sequence diagram")]),e._v(" "),i("h4",{attrs:{id:"_4-2-1-get-oracles"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-get-oracles"}},[e._v("#")]),e._v(" 4.2.1 GET Oracles")]),e._v(" "),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/mojaloop-technical-overview/account-lookup-service/als-admin-get-oracles.html"}},[e._v("Sequence Diagram for GET Oracles")])],1)]),e._v(" "),i("h4",{attrs:{id:"_4-2-2-post-oracle"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-post-oracle"}},[e._v("#")]),e._v(" 4.2.2 POST Oracle")]),e._v(" "),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/mojaloop-technical-overview/account-lookup-service/als-admin-post-oracles.html"}},[e._v("Sequence Diagram for POST Oracle")])],1)]),e._v(" "),i("h4",{attrs:{id:"_4-2-3-put-oracle"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-3-put-oracle"}},[e._v("#")]),e._v(" 4.2.3 PUT Oracle")]),e._v(" "),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/mojaloop-technical-overview/account-lookup-service/als-admin-put-oracles.html"}},[e._v("Sequence Diagram for PUT Oracle")])],1)]),e._v(" "),i("h4",{attrs:{id:"_4-2-4-delete-oracle"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-4-delete-oracle"}},[e._v("#")]),e._v(" 4.2.4 DELETE Oracle")]),e._v(" "),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/mojaloop-technical-overview/account-lookup-service/als-admin-del-oracles.html"}},[e._v("Sequence Diagram for DELETE Oracle")])],1)]),e._v(" "),i("h4",{attrs:{id:"_4-2-5-delete-endpoint-cache"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-5-delete-endpoint-cache"}},[e._v("#")]),e._v(" 4.2.5 DELETE Endpoint Cache")]),e._v(" "),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/mojaloop-technical-overview/account-lookup-service/als-del-endpoint.html"}},[e._v("Sequence Diagram for DELETE Endpoint Cache")])],1)]),e._v(" "),i("h2",{attrs:{id:"_5-database-design"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_5-database-design"}},[e._v("#")]),e._v(" 5. Database Design")]),e._v(" "),i("h3",{attrs:{id:"_5-1-als-database-schema"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-als-database-schema"}},[e._v("#")]),e._v(" 5.1. ALS Database Schema")]),e._v(" "),i("h4",{attrs:{id:"notes"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#notes"}},[e._v("#")]),e._v(" Notes")]),e._v(" "),i("ul",[i("li",[i("code",[e._v("partyIdType")]),e._v(" - Values are currently seeded as per section "),i("em",[i("code",[e._v("7.5.6")])]),e._v(" [Mojaloop __ book.importedVars.mojaloop.spec.version __ Specification](__ book.importedVars.mojaloop.spec.uri.doc __).")]),e._v(" "),i("li",[i("code",[e._v("currency")]),e._v(" - See section "),i("code",[e._v("7.5.5")]),e._v(" of the Mojaloop Specification. Currency code defined in "),i("a",{attrs:{href:"https://www.iso.org/iso-4217-currency-codes.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ISO 4217"),i("OutboundLink")],1),e._v(' as three-letter alphabetic string. This will be optional, and must provide a "default" config if no Currency is either provided or provide a default if the Currency is provided, but only the "default" End-point config exists.')]),e._v(" "),i("li",[i("code",[e._v("endPointType")]),e._v(" - Type identifier for the end-point (e.g. "),i("code",[e._v("URL")]),e._v(") which provides flexibility for future transport support.")]),e._v(" "),i("li",[i("code",[e._v("migration*")]),e._v(" - Meta-data tables used by Knex Framework engine.")]),e._v(" "),i("li",[e._v("A "),i("code",[e._v("centralSwitchEndpoint")]),e._v(" must be associated to the "),i("code",[e._v("OracleEndpoint")]),e._v(" by the Admin API upon insertion of a new "),i("code",[e._v("OracleEndpoint")]),e._v(" record. If the "),i("code",[e._v("centralSwitchEndpoint")]),e._v(" is not provided as part of the API Request, then it must be defaulted.")])]),e._v(" "),i("p",[i("img",{attrs:{src:a(347),alt:"Acount Lookup Service ERD"}})]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"./assets/entities/AccountLookupDB-schema-DBeaver.erd"}},[e._v("Acount Lookup Service DBeaver ERD")])]),e._v(" "),i("li",[i("a",{attrs:{href:"./assets/entities/AccountLookup-ddl-MySQLWorkbench.sql"}},[e._v("Acount Lookup Service MySQL Workbench Export")])])]),e._v(" "),i("h2",{attrs:{id:"_6-als-oracle-design"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_6-als-oracle-design"}},[e._v("#")]),e._v(" 6. ALS Oracle Design")]),e._v(" "),i("p",[e._v("Detail design for the Oracle is out of scope for this document. The Oracle design and implementation is specific to each Oracle's requirements.")]),e._v(" "),i("h3",{attrs:{id:"_6-1-api-specification"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-api-specification"}},[e._v("#")]),e._v(" 6.1. API Specification")]),e._v(" "),i("p",[e._v("Refer to "),i("strong",[e._v("ALS Oracle API")]),e._v(" in the "),i("RouterLink",{attrs:{to:"/api/#als-oracle-api"}},[e._v("API Specifications")]),e._v(" section.")],1)])}),[],!1,null,null,null);t.default=r.exports}}]);