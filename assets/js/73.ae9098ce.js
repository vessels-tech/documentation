(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{447:function(e,a,t){"use strict";t.r(a);var o=t(43),s=Object(o.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"mojaloop-deployment-with-deprecated-helm-v2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mojaloop-deployment-with-deprecated-helm-v2"}},[e._v("#")]),e._v(" Mojaloop Deployment with (Deprecated) Helm v2")]),e._v(" "),t("p",[t("em",[e._v("Note: It is recommended that you upgrate from Helm v2 to v3 as v2 is at end-of-life. Refer to legacy instruction for "),t("RouterLink",{attrs:{to:"/deployment-guide/helm-legacy-deployment.html"}},[e._v("Helm v2")]),e._v(". Please refer to the "),t("RouterLink",{attrs:{to:"/deployment-guide/helm-legacy-migration.html"}},[e._v("Helm v2 to v3 Migration Guide")]),e._v(".")],1)]),e._v(" "),t("p",[e._v("This document exists for legacy purposes and describes how to install Mojaloop using Helm v2. Refer to the "),t("a",{attrs:{href:"https://github.com/mojaloop/design-authority/issues/52",target:"_blank",rel:"noopener noreferrer"}},[e._v("Design Authority issue #52"),t("OutboundLink")],1),e._v(" for more information.")]),e._v(" "),t("h2",{attrs:{id:"deployment-and-setup"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deployment-and-setup"}},[e._v("#")]),e._v(" Deployment and Setup")]),e._v(" "),t("h4",{attrs:{id:"_4-1-helm-v2-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-helm-v2-configuration"}},[e._v("#")]),e._v(" 4.1. Helm v2 configuration")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Config Helm CLI and install Helm Tiller on K8s cluster:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("helm init\n")])])]),t("p",[t("em",[e._v("Note: if "),t("code",[e._v("helm init")]),e._v(" fails with "),t("code",[e._v("connection refused error")]),e._v(", refer to "),t("RouterLink",{attrs:{to:"/deployment-guide/deployment-troubleshooting.html#helm_init_connection_refused"}},[e._v("troubleshooting")])],1)])]),e._v(" "),t("li",[t("p",[e._v("Validate Helm Tiller is up and running. "),t("em",[e._v("Windows replace "),t("code",[e._v("grep")]),e._v(" with "),t("code",[e._v("findstr")])]),e._v(":")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("kubectl -n kube-system get po "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" tiller\n")])])])]),e._v(" "),t("li",[t("p",[e._v("Add mojaloop repo to your Helm config (optional):")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("helm repo "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" mojaloop http://mojaloop.io/helm/repo/\n")])])]),t("p",[e._v("If the repo already exists, substitute 'add' with 'apply' in the above command.")])]),e._v(" "),t("li",[t("p",[e._v("Add the additional dependency Helm repositories. This is needed to resolve Helm Chart dependencies required by Mojaloop charts. Linux use with sudo;")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("helm repo "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" incubator http://storage.googleapis.com/kubernetes-charts-incubator\nhelm repo "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" kiwigrid https://kiwigrid.github.io\nhelm repo "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" elastic https://helm.elastic.co\n")])])])]),e._v(" "),t("li",[t("p",[e._v("Update helm repositories:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("helm repo update\n")])])])])]),e._v(" "),t("h3",{attrs:{id:"_5-mojaloop"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-mojaloop"}},[e._v("#")]),e._v(" 5. Mojaloop")]),e._v(" "),t("h4",{attrs:{id:"_5-1-mojaloop-helm-v2-deployment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-mojaloop-helm-v2-deployment"}},[e._v("#")]),e._v(" 5.1. Mojaloop Helm v2 Deployment")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Install Mojaloop:")]),e._v(" "),t("p",[e._v("Default installation:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("helm --namespace demo --name moja "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" mojaloop/mojaloop\n")])])]),t("p",[e._v("Version specific installation:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("helm --namespace demo --name moja "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" mojaloop/mojaloop --version "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("version"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("List of available versions:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("helm search -l mojaloop/mojaloop\n")])])]),t("p",[e._v("Custom configured installation:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("helm --namespace demo --name moja "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" mojaloop/mojaloop -f "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("custom-values.yaml"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[t("em",[e._v("Note: Download and customize the "),t("a",{attrs:{href:"https://github.com/mojaloop/helm/blob/master/mojaloop/values.yaml",target:"_blank",rel:"noopener noreferrer"}},[e._v("values.yaml"),t("OutboundLink")],1),e._v(". Also ensure that you are using the value.yaml from the correct version which can be found via "),t("a",{attrs:{href:"https://github.com/mojaloop/helm/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Helm Releases"),t("OutboundLink")],1),e._v(".")])])])])])}),[],!1,null,null,null);a.default=s.exports}}]);