(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{355:function(e,t,r){e.exports=r.p+"assets/img/event-stream-processor-overview.ec2e6435.svg"},568:function(e,t,r){"use strict";r.r(t);var s=r(43),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"event-stream-processor-service"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#event-stream-processor-service"}},[e._v("#")]),e._v(" Event Stream Processor Service")]),e._v(" "),s("p",[e._v("Event Stream Processor consumes event messages from the "),s("code",[e._v("topic-events")]),e._v(" topic as a result of messages published by the "),s("a",{attrs:{href:"https://github.com/mojaloop/event-sidecar",target:"_blank",rel:"noopener noreferrer"}},[e._v("event-sidecar"),s("OutboundLink")],1),e._v(" service. Refer to "),s("RouterLink",{attrs:{to:"/mojaloop-technical-overview/event-framework/"}},[e._v("Event Framework")]),e._v(" for more information on the overall architecture.")],1),e._v(" "),s("p",[e._v("The Service delivers logs, including audits, and traces to EFK stack with enabled APM plugin. Based on the event message type, the messages are delivered to different indexes in the Elasticsearch.")]),e._v(" "),s("h2",{attrs:{id:"_1-prerequisites"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-prerequisites"}},[e._v("#")]),e._v(" 1. Prerequisites")]),e._v(" "),s("p",[e._v("The service logs all the events to Elasticsearch instance with enabled APM plugin. Sample docker-compose of the Elastic stack is available "),s("a",{attrs:{href:"https://github.com/mojaloop/event-stream-processor/blob/master/test/util/scripts/docker-efk/docker-compose.yml",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),s("OutboundLink")],1),e._v(". The logs and audits are created under custom index template, while the trace data is stored to the default "),s("code",[e._v("apm-*")]),e._v(" index.\nPlease, ensure that you have created the "),s("code",[e._v("mojatemplate")]),e._v(" as it is described into the "),s("a",{attrs:{href:"https://github.com/mojaloop/event-stream-processor#111-create-template",target:"_blank",rel:"noopener noreferrer"}},[e._v("event-stream-processor"),s("OutboundLink")],1),e._v(" service documentation.")]),e._v(" "),s("h2",{attrs:{id:"_2-architecture-overview"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-architecture-overview"}},[e._v("#")]),e._v(" 2. Architecture overview")]),e._v(" "),s("h3",{attrs:{id:"_2-1-flow-overview"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-flow-overview"}},[e._v("#")]),e._v(" 2.1. Flow overview")]),e._v(" "),s("p",[s("img",{attrs:{src:r(355),alt:"Event Stream Processor flow overview"}})]),e._v(" "),s("h3",{attrs:{id:"_2-2-trace-processing-flow-sequence-diagram"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-trace-processing-flow-sequence-diagram"}},[e._v("#")]),e._v(" 2.2 Trace processing flow sequence diagram")]),e._v(" "),s("p",[e._v('{% uml src="./mojaloop-technical-overview/event-stream-processor/assets/diagrams/sequence/process-flow.plantuml" %}\n{% enduml %}')])])}),[],!1,null,null,null);t.default=a.exports}}]);